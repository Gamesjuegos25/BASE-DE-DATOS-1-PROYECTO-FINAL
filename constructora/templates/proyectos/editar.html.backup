{% extends "base.html" %}
{% block title %}Editar Proyecto{% endblock %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/create-forms.css') }}">


<div class="page-header">
  <nav class="breadcrumb">
    <a href="{{ url_for('dashboard') }}">Dashboard</a>
    <span class="breadcrumb-separator">/</span>
    <a href="{{ url_for('listar_proyectos') }}">Proyectos</a>
    <span class="breadcrumb-separator">/</span>
    <span>Editar</span>
  </nav>
  <h1 class="page-title">✏️ Editar Proyecto</h1>
</div>

<div class="create-form-container">
<form action="{{ url_for('editar_proyecto', id=(proyecto.id or proyecto.proyecto_id)) }}" method="post" class="form">
  <div class="form-group">
    <label>Nombre</label>
    <input type="text" name="nombre" class="form-control" value="{{ proyecto.nombre or '' }}" required>
  </div>
  <div class="form-group">
    <label>Descripción</label>
    <textarea name="descripcion" class="form-control">{{ proyecto.descripcion or '' }}</textarea>
  </div>
  <div class="form-group">
    <label>Fecha Inicio</label>
    <input type="date" name="fecha_inicio" class="form-control" value="{{ proyecto.fecha_inicio or '' }}">
  </div>
  <div class="form-group">
    <label>Fecha Fin</label>
    <input type="date" name="fecha_fin" class="form-control" value="{{ proyecto.fecha_fin or '' }}">
  </div>
  <div class="form-group">
    <label>Presupuesto</label>
    <input type="number" step="0.01" name="presupuesto" class="form-control" value="{{ proyecto.presupuesto if proyecto.presupuesto else '' }}">
  </div>
  <div class="form-group">
    <label>Estado</label>
    <select name="estado" class="form-control">
      <option value="Planificación" {{ 'selected' if proyecto.estado == 'Planificación' else '' }}>Planificación</option>
      <option value="En Progreso" {{ 'selected' if proyecto.estado == 'En Progreso' else '' }}>En Progreso</option>
      <option value="Pausado" {{ 'selected' if proyecto.estado == 'Pausado' else '' }}>Pausado</option>
      <option value="Completado" {{ 'selected' if proyecto.estado == 'Completado' else '' }}>Completado</option>
    </select>
  </div>
  <div class="form-actions">
    <a class="btn btn-secondary" href="{{ url_for('listar_proyectos') }}">Cancelar</a>
    <button class="btn btn-primary" type="submit">Guardar</button>
  </div>
</form>
</div>

{% endblock %}
