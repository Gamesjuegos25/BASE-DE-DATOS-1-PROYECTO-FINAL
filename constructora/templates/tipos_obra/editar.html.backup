{% extends "base.html" %}
{% block title %}Editar Tipo de Obra{% endblock %}
{% block content %}
<div class="page-header">
  <h1>Editar Tipo de Obra</h1>
</div>
<form action="{{ url_for('tipos_obra_editar', id=t.id_tipo_obra) }}" method="post" class="form">
  <div class="form-row">
    <div class="form-group">
      <label>Nombre *</label>
      <input type="text" name="nombre_tipo" class="form-control" required value="{{ t.nombre_tipo }}">
    </div>
  </div>
  <div class="form-group">
    <label>Descripción base</label>
    <textarea name="descripcion_base" class="form-control" rows="3">{{ t.descripcion_base or '' }}</textarea>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Unidad de medida</label>
      <input type="text" name="unidad_medida" class="form-control" value="{{ t.unidad_medida or '' }}">
    </div>
    <div class="form-group">
      <label>Rango (texto)</label>
      <input type="text" name="rango_precio" class="form-control" value="{{ t.rango_precio or '' }}">
    </div>
  </div>
  <div class="form-group">
    <label>Notas</label>
    <textarea name="notas" class="form-control" rows="2">{{ t.notas or '' }}</textarea>
  </div>
  <div class="form-row">
    <div class="form-group">
      <label>Precio mínimo</label>
      <input type="number" step="0.01" name="precio_min" class="form-control" value="{{ t.precio_min if t.precio_min is not none else '' }}">
    </div>
    <div class="form-group">
      <label>Precio máximo</label>
      <input type="number" step="0.01" name="precio_max" class="form-control" value="{{ t.precio_max if t.precio_max is not none else '' }}">
    </div>
    <div class="form-group">
      <label>Precio base (aplicado si es fijo)</label>
      <input type="number" step="0.01" name="precio_base" class="form-control" value="{{ t.precio_base if t.precio_base is not none else '' }}">
    </div>
  </div>
  <div class="form-group">
    <label>
      <input type="checkbox" name="activo" {% if t.activo %}checked{% endif %}> Activo
    </label>
  </div>
  <div class="form-actions">
    <a href="{{ url_for('tipos_obra_listar') }}" class="btn btn-secondary">Cancelar</a>
    <button class="btn btn-primary" type="submit">Guardar</button>
  </div>
</form>
{% endblock %}
